(function(i,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(i=typeof globalThis<"u"?globalThis:i||self,c(i.fft_legacy={}))})(this,(function(i){"use strict";function c(t,n){return[t[0]+n[0],t[1]+n[1]]}function y(t,n){return[t[0]-n[0],t[1]-n[1]]}function g(t,n){return[t[0]*n[0]-t[1]*n[1],t[0]*n[1]+t[1]*n[0]]}function _(t){return Math.sqrt(t[0]**2+t[1]**2)}const l={};function d(t,n){const o=-2*Math.PI*(t/n);return l[n]??={},l[n][t]??=[Math.cos(o),Math.sin(o)],l[n][t]}function M(t){return t.map(_).slice(0,t.length/2)}function j(t,n){const o=n/t.length;return t.slice(0,t.length/2).map((f,u)=>u*o)}const S=Object.freeze(Object.defineProperty({__proto__:null,exponent:d,fftFreq:j,fftMag:M},Symbol.toStringTag,{value:"Module"}));function p(t){const n=t.length,o=[];if(n===1){const e=t[0];return[Array.isArray(e)?[e[0],e[1]]:[e,0]]}const f=(e,s)=>s%2===0,u=(e,s)=>s%2===1,r=p(t.filter(f)),a=p(t.filter(u));for(let e=0;e<n/2;e++){const s=r[e],m=g(d(e,n),a[e]);o[e]=c(s,m),o[e+n/2]=y(s,m)}return o}function h(t){const n=t.length,o=[];for(let f=0;f<n;f++){let u=[0,0];for(let r=0;r<n;r++){const a=typeof t[r]=="number"?[t[r],0]:t[r],e=d(f*r,n);u=c(u,g(a,e))}o[f]=u}return o}function T(t){const n=t.map(([f,u])=>[u,f]),o=h(n);return o.map(([f,u])=>[u/o.length,f/o.length])}i.dft=h,i.fft=p,i.ifft=T,i.util=S,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})}));
